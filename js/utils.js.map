{"version":3,"sources":["utils.js"],"names":["utils","getUrlInfo","url","document","location","pathname","urlData","exec","shopId","length","itemId","getHistoryUrl","setStyles","elem","styles","prop","hasOwnProperty","style","onShopeeDomReady","callback","itemsCenter","querySelectorAll","filter","e","textContent","indexOf","querySelector","setTimeout"],"mappings":"AAAA,MAAMA,MAAQ,CACVC,WAAY,CAACC,EAAMC,SAASC,SAASC,YACjC,IACIC,EADW,4BACQC,KAAKL,GAE5B,MAAO,CACHM,OAAQF,GAA8B,IAAnBA,EAAQG,OAAeH,EAAQ,GAAK,KACvDI,OAAQJ,GAA8B,IAAnBA,EAAQG,OAAeH,EAAQ,GAAK,OAG/DK,cAAe,KACX,IAAIH,OAACA,EAAME,OAAEA,GAAUV,MAAMC,aAE7B,OAAOO,GAAUE,wCAA+CF,UAAeE,YAAmB,MAEtGE,UAAW,CAACC,EAAMC,KACd,IAAK,IAAIC,KAAQD,EACbA,EAAOE,eAAeD,KAAUF,EAAKI,MAAMF,GAAQD,EAAOC,IAG9D,OAAOF,GAEXK,iBAAmBC,IACf,IAAIC,EAAcjB,SAASkB,iBAAiB,8CAC5CD,EAAc,IAAIA,GAAaE,OAAOC,IAAqC,IAAhCA,EAAEC,YAAYC,QAAQ,MAE3CtB,SAASuB,cAAc,sBAEtBN,EAAYX,OAAS,EACxCkB,WAAWR,EAAU,KAErBQ,WAAW3B,MAAMkB,iBAAkB,IAAKC","file":"utils.js","sourcesContent":["const utils = {\r\n    getUrlInfo: (url = document.location.pathname) => {\r\n        let urlRegex = /^.+\\.([^.#?]+)\\.([^.#?]+)/;\r\n        let urlData = urlRegex.exec(url);\r\n        \r\n        return {\r\n            shopId: urlData && urlData.length === 3 ? urlData[1] : null,\r\n            itemId: urlData && urlData.length === 3 ? urlData[2] : null\r\n        }\r\n    },\r\n    getHistoryUrl: () => {\r\n        let {shopId, itemId} = utils.getUrlInfo();\r\n        \r\n        return shopId && itemId ? `https://www.beecost.com/embed/shop/${shopId}/item/${itemId}/history` : null;\r\n    },\r\n    setStyles: (elem, styles) => {\r\n        for (let prop in styles) {\r\n            styles.hasOwnProperty(prop) && (elem.style[prop] = styles[prop]);\r\n        }\r\n        \r\n        return elem;\r\n    },\r\n    onShopeeDomReady: (callback) => {\r\n        let itemsCenter = document.querySelectorAll('.product-briefing > div.flex .items-center');\r\n        itemsCenter = [...itemsCenter].filter(e => e.textContent.indexOf('â‚«') !== -1);\r\n        \r\n        let productBriefing = document.querySelector('.product-briefing');\r\n        \r\n        if (productBriefing && itemsCenter.length > 0) {\r\n            setTimeout(callback, 2000);\r\n        } else {\r\n            setTimeout(utils.onShopeeDomReady, 100, callback);\r\n        }\r\n    }\r\n};\r\n"]}